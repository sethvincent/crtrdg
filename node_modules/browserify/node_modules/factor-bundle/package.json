{
  "name": "factor-bundle",
  "version": "0.0.0",
  "description": "factor browser-pack bundles into common shared bundles",
  "main": "index.js",
  "bin": {
    "factor-bundle": "bin/cmd.js"
  },
  "dependencies": {
    "JSONStream": "~0.7.1",
    "browser-pack": "~2.0.1",
    "inherits": "~2.0.1",
    "minimist": "~0.0.5",
    "stream-combiner": "~0.0.4"
  },
  "devDependencies": {
    "tape": "~2.3.2",
    "module-deps": "~1.3.0",
    "browser-unpack": "~0.0.0",
    "through": "~2.3.4",
    "concat-stream": "~1.4.1"
  },
  "scripts": {
    "test": "tape test/*.js"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/substack/factor-bundle.git"
  },
  "homepage": "https://github.com/substack/factor-bundle",
  "keywords": [
    "browserify",
    "browserify-tool",
    "bundle",
    "browser-pack"
  ],
  "author": {
    "name": "James Halliday",
    "email": "mail@substack.net",
    "url": "http://substack.net"
  },
  "license": "MIT",
  "readme": "# factor-bundle\n\nfactor [browser-pack](https://npmjs.org/package/browser-pack) bundles into a\ncommon bundle and entry-specific bundles\n\n[![build status](https://secure.travis-ci.org/substack/factor-bundle.png)](http://travis-ci.org/substack/factor-bundle)\n\n# example\n\nx.js:\n\n``` js\nvar z = require('./z.js');\nvar w = require('./w.js');\nconsole.log(z(5) * w(2));\n```\n\ny.js:\n\n``` js\nvar z = require('./z.js');\nconsole.log(z(2) + 111);\n```\n\nz.js:\n\n``` js\nmodule.exports = function (n) { return n * 111 }\n```\n\nw.js:\n\n``` js\nmodule.exports = function (n) { return n * 50 }\n```\n\nnow pipe some [module-deps](https://npmjs.org/package/module-deps) json into\n`factor-bundle`:\n\n``` sh\n$ module-deps x.js y.js | factor-bundle \\\n  x.js -o bundle/x.js \\\n  y.js -o bundle/y.js \\\n  > bundle/common.js\n```\n\nor factor out an existing bundle already compiled by browserify:\n\n``` sh\n$ browserify x.js y.js > bundle.js\n$ browser-unpack < bundle.js | factor-bundle \\\n  x.js -o bundle/x.js \\\n  y.js -o bundle/y.js \\\n  > bundle/common.js\n```\n\nand now you can have 2 pages, each with a different combination of script tags\nbut with all the common modules factored out into a `common.js` to avoid\ntransferring the same code multiple times:\n\n``` html\n<script src=\"/bundle/common.js\"></script>\n<script src=\"/bundle/x.js\"></script>\n```\n\n``` html\n<script src=\"/bundle/common.js\"></script>\n<script src=\"/bundle/y.js\"></script>\n```\n\nto verify this works from node you can do:\n\n```\n$ cat bundle/common.js bundle/x.js | node\n55500\n$ cat bundle/common.js bundle/y.js | node\n333\n```\n\n# usage\n\n```\nusage: factor-bundle [ x.js -o bundle/x.js ... ] > bundle/common.js\n\nRead `module-deps` json output from stdin, factoring each entry file out into\nthe corresponding output file (-o).\n\nIf there is a trailing unpaired `-o`, that file will be used for the common\nbundle output. Otherwise, the final bundle is written to stdout.\n\n```\n\n# methods\n\n``` js\nvar factor = require('factor-bundle')\n```\n\n## var fr = factor(files, opts={})\n\nReturn a transform stream `tr` that factors the array of entry path strings\n`files` out into bundle files. The input format that `fr` expects is described\nin the [module-deps package](https://npmjs.org/package/module-deps).\n\nThe output format for `fr` and each of the `fr` sub-streams given by each\n`'stream'` event is also in the\n[module-deps](https://npmjs.org/package/module-deps) format.\n\nThe files held in common among `> opts.threshold` (default: 1) bundles will be\noutput on the `fr` stream itself. The entry-specific bundles are diverted into\neach `'stream'` event's output.\n\n# events\n\n## fr.on('stream', function (stream) {})\n\nEach entry file emits a `'stream'` event containing all of the entry-specific\nrows that are only used by that entry file (when `opts.threshold === 1`, the\ndefault).\n\nThe entry file name is available as `stream.file`.\n\n# install\n\nWith [npm](https://npmjs.org) do:\n\n```\nnpm install factor-bundle\n```\n\n# license\n\nMIT\n",
  "readmeFilename": "readme.markdown",
  "bugs": {
    "url": "https://github.com/substack/factor-bundle/issues"
  },
  "_id": "factor-bundle@0.0.0",
  "_from": "factor-bundle@0.0.0"
}
